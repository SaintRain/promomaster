$(function(){$(".filter_clear").on("click",function(b){b.preventDefault();$(".filter .active").removeClass("active");$(".filter input:checked").prop("checked",false);$(".filter input:text").val("").trigger("keyup");location.href=$(this).closest("form").attr("action").replace(/\?.+/g,"");return false});$(".filter_price_slider").each(function(){var d=$(this);var b=d.closest(".filter_group");var c={min:d.data("range-min"),max:d.data("range-max")};b.find("span.lowest span.range-text").text(c.min);b.find("span.average span.range-text").text(Math.round((c.max+c.min)/2));b.find("span.highest span.range-text").text(c.max);if(c.max-c.min<=1){b.find("span.average").hide()}d.slider({range:true,min:c.min,max:c.max,values:[c.min,c.max],slide:function(e,f){b.find(".filter-range-from").val(f.values[0]);b.find(".filter-range-to").val(f.values[1])}});b.find(".text_input").on("keyup change",function(){var e={min:parseInt(b.find(".filter-range-from").val())||c.min,max:parseInt(b.find(".filter-range-to").val())||c.max};if(e.max<e.min){e.max=e.min}if(e.min<c.min){e.min=c.min}if(e.max>c.max){e.max=c.max}d.slider({values:[e.min,e.max]})})});$(".text_input").trigger("keyup");function a(b){if(b.hasClass("active")){b.removeClass("active");b.prop("checked",false)}else{if(b.attr("type")==="radio"){b.closest(".edit-type-radio").find("input.active").removeClass("active")}b.addClass("active").prop("checked",true)}}$(".edit-type-radio input:radio").on("click",function(){a($(this))});$(".edit-type-radio .filter-fake-radio").on("click",function(){if($(this).hasClass("active")){$(this).removeClass("active")}else{var b=$(this).closest(".edit-type-radio");b.find(".filter-fake-radio.active").removeClass("active");$(this).addClass("active")}a($(this).next("input:radio"))});$(".edit-type-radio input.hidden:checked").each(function(){$(this).addClass("active").prev("span").addClass("active")});$(".edit-type-checkbox .filter-fake-checkbox").on("click",function(){if($(this).hasClass("active")){$(this).removeClass("active")}else{$(this).addClass("active")}a($(this).next("input:checkbox"))});$(".edit-type-checkbox input.hidden:checked").each(function(){$(this).addClass("active").prev("span").addClass("active")});$(".filter-show-all").on("click",function(){var b=$(this).closest(".filter_group");var c=b.find("div.hidden");if($(this).data("show-all")){if(c.hasClass("asSlide")){c.slideUp("fast")}else{c.fadeOut("fast")}$(this).text("Показать все").data("show-all",false)}else{if(c.hasClass("asSlide")){c.slideDown("fast")}else{c.fadeIn("fast")}$(this).text("Скрыть часть").data("show-all",true)}});$(".filter-fake-checkbox").disableSelection();$(".filter_submit button").click(function(){if(!$(this).closest("form").serialize().replace(/sort=[a-z_1-9]+|show=[a-z_1-9]+/g,"").replace(/&&/g,"&").replace(/^&/g,"")){alertCustom("Информация","Необходимо выбрать хотя бы один параметр!",{buttons:{Ok:function(){$(this).dialog("close")}}});return false}})});