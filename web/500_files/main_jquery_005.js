(function(a){a.flexslider=function(o,n){var x=a(o),w=a.extend({},a.flexslider.defaults,n),v=w.namespace,d="ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,y=d?"touchend":"click",j="vertical"===w.direction,g=w.reverse,q=0<w.itemWidth,b="fade"===w.animation,z=""!==w.asNavFor,u={};a.data(o,"flexslider",x);u={init:function(){x.animating=!1;x.currentSlide=w.startAt;x.animatingTo=x.currentSlide;x.atEnd=0===x.currentSlide||x.currentSlide===x.last;x.containerSelector=w.selector.substr(0,w.selector.search(" "));x.slides=a(w.selector,x);x.container=a(x.containerSelector,x);x.count=x.slides.length;x.syncExists=0<a(w.sync).length;"slide"===w.animation&&(w.animation="swing");x.prop=j?"top":"marginLeft";x.args={};x.manualPause=!1;var c=x,f;if(f=!w.video){if(f=!b){if(f=w.useCSS){x:{f=document.createElement("div");var i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],h;for(h in i){if(void 0!==f.style[i[h]]){x.pfx=i[h].replace("Perspective","").toLowerCase();x.prop="-"+x.pfx+"-transform";f=!0;break x}}f=!1}}}}c.transitions=f;""!==w.controlsContainer&&(x.controlsContainer=0<a(w.controlsContainer).length&&a(w.controlsContainer));""!==w.manualControls&&(x.manualControls=0<a(w.manualControls).length&&a(w.manualControls));w.randomize&&(x.slides.sort(function(){return Math.round(Math.random())-0.5}),x.container.empty().append(x.slides));x.doMath();z&&u.asNav.setup();x.setup("init");w.controlNav&&u.controlNav.setup();w.directionNav&&u.directionNav.setup();w.keyboard&&(1===a(x.containerSelector).length||w.multipleKeyboard)&&a(document).bind("keyup",function(e){e=e.keyCode;if(!x.animating&&(39===e||37===e)){e=39===e?x.getTarget("next"):37===e?x.getTarget("prev"):!1,x.flexAnimate(e,w.pauseOnAction)}});w.mousewheel&&x.bind("mousewheel",function(e,k){e.preventDefault();var l=0>k?x.getTarget("next"):x.getTarget("prev");x.flexAnimate(l,w.pauseOnAction)});w.pausePlay&&u.pausePlay.setup();w.slideshow&&(w.pauseOnHover&&x.hover(function(){!x.manualPlay&&!x.manualPause&&x.pause()},function(){!x.manualPause&&!x.manualPlay&&x.play()}),0<w.initDelay?setTimeout(x.play,w.initDelay):x.play());d&&w.touch&&u.touch();(!b||b&&w.smoothHeight)&&a(window).bind("resize focus",u.resize);setTimeout(function(){w.start(x)},200)},asNav:{setup:function(){x.asNav=!0;x.animatingTo=Math.floor(x.currentSlide/x.move);x.currentItem=x.currentSlide;x.slides.removeClass(v+"active-slide").eq(x.currentItem).addClass(v+"active-slide");x.slides.click(function(c){c.preventDefault();var c=a(this),e=c.index();!a(w.asNavFor).data("flexslider").animating&&!c.hasClass("active")&&(x.direction=x.currentItem<e?"next":"prev",x.flexAnimate(e,w.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){x.manualControls?u.controlNav.setupManual():u.controlNav.setupPaging()},setupPaging:function(){var c=1,e;x.controlNavScaffold=a('<ol class="'+v+"control-nav "+v+("thumbnails"===w.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<x.pagingCount){for(var f=0;f<x.pagingCount;f++){e="thumbnails"===w.controlNav?'<img src="'+x.slides.eq(f).attr("data-thumb")+'"/>':"<a>"+c+"</a>",x.controlNavScaffold.append("<li>"+e+"</li>"),c++}}x.controlsContainer?a(x.controlsContainer).append(x.controlNavScaffold):x.append(x.controlNavScaffold);u.controlNav.set();u.controlNav.active();x.controlNavScaffold.delegate("a, img",y,function(h){h.preventDefault();var h=a(this),i=x.controlNav.index(h);h.hasClass(v+"active")||(x.direction=i>x.currentSlide?"next":"prev",x.flexAnimate(i,w.pauseOnAction))});d&&x.controlNavScaffold.delegate("a","click touchstart",function(h){h.preventDefault()})},setupManual:function(){x.controlNav=x.manualControls;u.controlNav.active();x.controlNav.live(y,function(c){c.preventDefault();var c=a(this),e=x.controlNav.index(c);c.hasClass(v+"active")||(e>x.currentSlide?x.direction="next":x.direction="prev",x.flexAnimate(e,w.pauseOnAction))});d&&x.controlNav.live("click touchstart",function(c){c.preventDefault()})},set:function(){x.controlNav=a("."+v+"control-nav li "+("thumbnails"===w.controlNav?"img":"a"),x.controlsContainer?x.controlsContainer:x)},active:function(){x.controlNav.removeClass(v+"active").eq(x.animatingTo).addClass(v+"active")},update:function(e,f){1<x.pagingCount&&"add"===e?x.controlNavScaffold.append(a("<li><a>"+x.count+"</a></li>")):1===x.pagingCount?x.controlNavScaffold.find("li").remove():x.controlNav.eq(f).closest("li").remove();u.controlNav.set();1<x.pagingCount&&x.pagingCount!==x.controlNav.length?x.update(f,e):u.controlNav.active()}},directionNav:{setup:function(){var c=a('<ul class="'+v+'direction-nav"><li><a class="'+v+'prev" href="#">'+w.prevText+'</a></li><li><a class="'+v+'next" href="#">'+w.nextText+"</a></li></ul>");x.controlsContainer?(a(x.controlsContainer).append(c),x.directionNav=a("."+v+"direction-nav li a",x.controlsContainer)):(x.append(c),x.directionNav=a("."+v+"direction-nav li a",x));u.directionNav.update();x.directionNav.bind(y,function(e){e.preventDefault();e=a(this).hasClass(v+"next")?x.getTarget("next"):x.getTarget("prev");x.flexAnimate(e,w.pauseOnAction)});d&&x.directionNav.bind("click touchstart",function(e){e.preventDefault()})},update:function(){var c=v+"disabled";1===x.pagingCount?x.directionNav.addClass(c):w.animationLoop?x.directionNav.removeClass(c):0===x.animatingTo?x.directionNav.removeClass(c).filter("."+v+"prev").addClass(c):x.animatingTo===x.last?x.directionNav.removeClass(c).filter("."+v+"next").addClass(c):x.directionNav.removeClass(c)}},pausePlay:{setup:function(){var c=a('<div class="'+v+'pauseplay"><a></a></div>');x.controlsContainer?(x.controlsContainer.append(c),x.pausePlay=a("."+v+"pauseplay a",x.controlsContainer)):(x.append(c),x.pausePlay=a("."+v+"pauseplay a",x));u.pausePlay.update(w.slideshow?v+"pause":v+"play");x.pausePlay.bind(y,function(e){e.preventDefault();a(this).hasClass(v+"pause")?(x.manualPause=!0,x.manualPlay=!1,x.pause()):(x.manualPause=!1,x.manualPlay=!0,x.play())});d&&x.pausePlay.bind("click touchstart",function(e){e.preventDefault()})},update:function(c){"play"===c?x.pausePlay.removeClass(v+"pause").addClass(v+"play").text(w.playText):x.pausePlay.removeClass(v+"play").addClass(v+"pause").text(w.pauseText)}},touch:function(){function A(e){l=j?t-e.touches[0].pageY:t-e.touches[0].pageX;h=j?Math.abs(l)<Math.abs(e.touches[0].pageX-s):Math.abs(l)<Math.abs(e.touches[0].pageY-s);if(!h||500<Number(new Date)-i){e.preventDefault(),!b&&x.transitions&&(w.animationLoop||(l/=0===x.currentSlide&&0>l||x.currentSlide===x.last&&0<l?Math.abs(l)/c+2:1),x.setProps(r+l,"setTouch"))}}function m(){o.removeEventListener("touchmove",A,!1);if(x.animatingTo===x.currentSlide&&!h&&null!==l){var f=g?-l:l,e=0<f?x.getTarget("next"):x.getTarget("prev");x.canAdvance(e)&&(550>Number(new Date)-i&&50<Math.abs(f)||Math.abs(f)>c/2)?x.flexAnimate(e,w.pauseOnAction):b||x.flexAnimate(x.currentSlide,w.pauseOnAction,!0)}o.removeEventListener("touchend",m,!1);r=l=s=t=null}var t,s,r,c,l,i,h=!1;o.addEventListener("touchstart",function(e){x.animating?e.preventDefault():1===e.touches.length&&(x.pause(),c=j?x.h:x.w,i=Number(new Date),r=q&&g&&x.animatingTo===x.last?0:q&&g?x.limit-(x.itemW+w.itemMargin)*x.move*x.animatingTo:q&&x.currentSlide===x.last?x.limit:q?(x.itemW+w.itemMargin)*x.move*x.currentSlide:g?(x.last-x.currentSlide+x.cloneOffset)*c:(x.currentSlide+x.cloneOffset)*c,t=j?e.touches[0].pageY:e.touches[0].pageX,s=j?e.touches[0].pageX:e.touches[0].pageY,o.addEventListener("touchmove",A,!1),o.addEventListener("touchend",m,!1))},!1)},resize:function(){!x.animating&&x.is(":visible")&&(q||x.doMath(),b?u.smoothHeight():q?(x.slides.width(x.computedW),x.update(x.pagingCount),x.setProps()):j?(x.viewport.height(x.h),x.setProps(x.h,"setTotal")):(w.smoothHeight&&u.smoothHeight(),x.newSlides.width(x.computedW),x.setProps(x.computedW,"setTotal")))},smoothHeight:function(e){if(!j||b){var f=b?x:x.viewport;e?f.animate({height:x.slides.eq(x.animatingTo).height()},e):f.height(x.slides.eq(x.animatingTo).height())}},sync:function(c){var f=a(w.sync).data("flexslider"),h=x.animatingTo;switch(c){case"animate":f.flexAnimate(h,w.pauseOnAction,!1,!0);break;case"play":!f.playing&&!f.asNav&&f.play();break;case"pause":f.pause()}}};x.flexAnimate=function(c,h,m,f,e){z&&1===x.pagingCount&&(x.direction=x.currentItem<c?"next":"prev");if(!x.animating&&(x.canAdvance(c,e)||m)&&x.is(":visible")){if(z&&f){if(m=a(w.asNavFor).data("flexslider"),x.atEnd=0===c||c===x.count-1,m.flexAnimate(c,!0,!1,!0,e),x.direction=x.currentItem<c?"next":"prev",m.direction=x.direction,Math.ceil((c+1)/x.visible)-1!==x.currentSlide&&0!==c){x.currentItem=c,x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide"),c=Math.floor(c/x.visible)}else{return x.currentItem=c,x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide"),!1}}x.animating=!0;x.animatingTo=c;w.before(x);h&&x.pause();x.syncExists&&!e&&u.sync("animate");w.controlNav&&u.controlNav.active();q||x.slides.removeClass(v+"active-slide").eq(c).addClass(v+"active-slide");x.atEnd=0===c||c===x.last;w.directionNav&&u.directionNav.update();c===x.last&&(w.end(x),w.animationLoop||x.pause());if(b){d?(x.slides.eq(x.currentSlide).css({opacity:0,zIndex:1}),x.slides.eq(c).css({opacity:1,zIndex:2}),x.slides.unbind("webkitTransitionEnd transitionend"),x.slides.eq(x.currentSlide).bind("webkitTransitionEnd transitionend",function(){w.after(x)}),x.animating=!1,x.currentSlide=x.animatingTo):(x.slides.eq(x.currentSlide).fadeOut(w.animationSpeed,w.easing),x.slides.eq(c).fadeIn(w.animationSpeed,w.easing,x.wrapup))}else{var l=j?x.slides.filter(":first").height():x.computedW;q?(c=w.itemWidth>x.w?2*w.itemMargin:w.itemMargin,c=(x.itemW+c)*x.move*x.animatingTo,c=c>x.limit&&1!==x.visible?x.limit:c):c=0===x.currentSlide&&c===x.count-1&&w.animationLoop&&"next"!==x.direction?g?(x.count+x.cloneOffset)*l:0:x.currentSlide===x.last&&0===c&&w.animationLoop&&"prev"!==x.direction?g?0:(x.count+1)*l:g?(x.count-1-c+x.cloneOffset)*l:(c+x.cloneOffset)*l;x.setProps(c,"",w.animationSpeed);if(x.transitions){if(!w.animationLoop||!x.atEnd){x.animating=!1,x.currentSlide=x.animatingTo}x.container.unbind("webkitTransitionEnd transitionend");x.container.bind("webkitTransitionEnd transitionend",function(){x.wrapup(l)})}else{x.container.animate(x.args,w.animationSpeed,w.easing,function(){x.wrapup(l)})}}w.smoothHeight&&u.smoothHeight(w.animationSpeed)}};x.wrapup=function(c){!b&&!q&&(0===x.currentSlide&&x.animatingTo===x.last&&w.animationLoop?x.setProps(c,"jumpEnd"):x.currentSlide===x.last&&(0===x.animatingTo&&w.animationLoop)&&x.setProps(c,"jumpStart"));x.animating=!1;x.currentSlide=x.animatingTo;w.after(x)};x.animateSlides=function(){x.animating||x.flexAnimate(x.getTarget("next"))};x.pause=function(){clearInterval(x.animatedSlides);x.playing=!1;w.pausePlay&&u.pausePlay.update("play");x.syncExists&&u.sync("pause")};x.play=function(){x.animatedSlides=setInterval(x.animateSlides,w.slideshowSpeed);x.playing=!0;w.pausePlay&&u.pausePlay.update("pause");x.syncExists&&u.sync("play")};x.canAdvance=function(c,e){var f=z?x.pagingCount-1:x.last;return e?!0:z&&x.currentItem===x.count-1&&0===c&&"prev"===x.direction?!0:z&&0===x.currentItem&&c===x.pagingCount-1&&"next"!==x.direction?!1:c===x.currentSlide&&!z?!1:w.animationLoop?!0:x.atEnd&&0===x.currentSlide&&c===f&&"next"!==x.direction?!1:x.atEnd&&x.currentSlide===f&&0===c&&"next"===x.direction?!1:!0};x.getTarget=function(c){x.direction=c;return"next"===c?x.currentSlide===x.last?0:x.currentSlide+1:0===x.currentSlide?x.last:x.currentSlide-1};x.setProps=function(c,h,l){var k,i=c?c:(x.itemW+w.itemMargin)*x.move*x.animatingTo;k=-1*function(){if(q){return"setTouch"===h?c:g&&x.animatingTo===x.last?0:g?x.limit-(x.itemW+w.itemMargin)*x.move*x.animatingTo:x.animatingTo===x.last?x.limit:i}switch(h){case"setTotal":return g?(x.count-1-x.currentSlide+x.cloneOffset)*c:(x.currentSlide+x.cloneOffset)*c;case"setTouch":return c;case"jumpEnd":return g?c:x.count*c;case"jumpStart":return g?x.count*c:c;default:return c}}()+"px";x.transitions&&(k=j?"translate3d(0,"+k+",0)":"translate3d("+k+",0,0)",l=void 0!==l?l/1000+"s":"0s",x.container.css("-"+x.pfx+"-transition-duration",l));x.args[x.prop]=k;(x.transitions||void 0===l)&&x.container.css(x.args)};x.setup=function(c){if(b){x.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===c&&(d?x.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+w.animationSpeed/1000+"s ease",zIndex:1}).eq(x.currentSlide).css({opacity:1,zIndex:2}):x.slides.eq(x.currentSlide).fadeIn(w.animationSpeed,w.easing)),w.smoothHeight&&u.smoothHeight()}else{var e,f;"init"===c&&(x.viewport=a('<div class="'+v+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(x).append(x.container),x.cloneCount=0,x.cloneOffset=0,g&&(f=a.makeArray(x.slides).reverse(),x.slides=a(f),x.container.empty().append(x.slides)));w.animationLoop&&!q&&(x.cloneCount=2,x.cloneOffset=1,"init"!==c&&x.container.find(".clone").remove(),x.container.append(x.slides.first().clone().addClass("clone")).prepend(x.slides.last().clone().addClass("clone")));x.newSlides=a(w.selector,x);e=g?x.count-1-x.currentSlide+x.cloneOffset:x.currentSlide+x.cloneOffset;j&&!q?(x.container.height(200*(x.count+x.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){x.newSlides.css({display:"block"});x.doMath();x.viewport.height(x.h);x.setProps(e*x.h,"init")},"init"===c?100:0)):(x.container.width(200*(x.count+x.cloneCount)+"%"),x.setProps(e*x.computedW,"init"),setTimeout(function(){x.doMath();x.newSlides.css({width:x.computedW,"float":"left",display:"block"});w.smoothHeight&&u.smoothHeight()},"init"===c?100:0))}q||x.slides.removeClass(v+"active-slide").eq(x.currentSlide).addClass(v+"active-slide")};x.doMath=function(){var c=x.slides.first(),k=w.itemMargin,i=w.minItems,h=w.maxItems;x.w=x.width();x.h=c.height();x.boxPadding=c.outerWidth()-c.width();q?(x.itemT=w.itemWidth+k,x.minW=i?i*x.itemT:x.w,x.maxW=h?h*x.itemT:x.w,x.itemW=x.minW>x.w?(x.w-k*i)/i:x.maxW<x.w?(x.w-k*h)/h:w.itemWidth>x.w?x.w:w.itemWidth,x.visible=Math.floor(x.w/(x.itemW+k)),x.move=0<w.move&&w.move<x.visible?w.move:x.visible,x.pagingCount=Math.ceil((x.count-x.visible)/x.move+1),x.last=x.pagingCount-1,x.limit=1===x.pagingCount?0:w.itemWidth>x.w?(x.itemW+2*k)*x.count-x.w-k:(x.itemW+k)*x.count-x.w-k):(x.itemW=x.w,x.pagingCount=x.count,x.last=x.count-1);x.computedW=x.itemW-x.boxPadding};x.update=function(c,e){x.doMath();q||(c<x.currentSlide?x.currentSlide+=1:c<=x.currentSlide&&0!==c&&(x.currentSlide-=1),x.animatingTo=x.currentSlide);if(w.controlNav&&!x.manualControls){if("add"===e&&!q||x.pagingCount>x.controlNav.length){u.controlNav.update("add")}else{if("remove"===e&&!q||x.pagingCount<x.controlNav.length){q&&x.currentSlide>x.last&&(x.currentSlide-=1,x.animatingTo-=1),u.controlNav.update("remove",x.last)}}}w.directionNav&&u.directionNav.update()};x.addSlide=function(c,i){var h=a(c);x.count+=1;x.last=x.count-1;j&&g?void 0!==i?x.slides.eq(x.count-i).after(h):x.container.prepend(h):void 0!==i?x.slides.eq(i).before(h):x.container.append(h);x.update(i,"add");x.slides=a(w.selector+":not(.clone)",x);x.setup();w.added(x)};x.removeSlide=function(c){var f=isNaN(c)?x.slides.index(a(c)):c;x.count-=1;x.last=x.count-1;isNaN(c)?a(c,x.slides).remove():j&&g?x.slides.eq(x.last).remove():x.slides.eq(c).remove();x.doMath();x.update(f,"remove");x.slides=a(w.selector+":not(.clone)",x);x.setup();w.removed(x)};u.init()};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(c){void 0===c&&(c={});if("object"===typeof c){return this.each(function(){var d=a(this),e=d.find(c.selector?c.selector:".slides > li");1===e.length?(e.fadeIn(400),c.start&&c.start(d)):void 0==d.data("flexslider")&&new a.flexslider(this,c)})}var b=a(this).data("flexslider");switch(c){case"play":b.play();break;case"pause":b.pause();break;case"next":b.flexAnimate(b.getTarget("next"),!0);break;case"prev":case"previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"===typeof c&&b.flexAnimate(c,!0)}}})(jQuery);